> ⚠️ このREADMEは開発者向けの作業ログ＆再開ガイドです。  
> ユーザー向けの使い方は `streamlit_app.py` のUIをご覧ください（Webアプリ予定）。

# 📂 ゆうちょ明細 → freeeアップロード形式変換ツール（非公式）

---

## ✅ プロジェクト概要

ゆうちょ銀行の明細CSV（そのままではfreeeにアップロードできない形式）を、  
**freeeの「手動アップロード用CSVフォーマット」に変換するツール**です。

- ゆうちょ明細のCSV構造に対応（DL元：ゆうちょダイレクト）
- freeeが公開している公式テンプレート構造に合わせて変換
- 現在はStreamlitによるシンプルなWeb UIを仮実装
- **非公式ツール**として開発中（freee社とは無関係）

---

## 🧪 現在の状態（2025-08-05 時点）

| 項目                     | 状態        |
|------------------------|------------|
| CLI形式のCSV変換       | ✅ 完成済     |
| StreamlitによるWeb UI  | ✅ 初期バージョン完成 |
| GitHubへの公開         | ✅ 済（仮名アカウント） |
| 商用展開               | 🚧 未定（需要を見て判断） |

---

## 🗃️ ファイル例（実際のゆうちょCSV）

```csv
取引日,入出金明細ＩＤ,受入金額（円）,払出金額（円）,詳細１,詳細２,現在（貸付）高,
20250728,202507280000001,,50000,自払,ﾔﾁﾝ ﾄｳ,102551,
```

## ✅ 変換後のCSV構造（freeeアップロード形式）

```csv
取引日,出金額,入金額,残高,取引内容
2025-07-28,50000,,102551,自払 ﾔﾁﾝ ﾄｳ
```

---

## ⚙️ 使用技術・構成

| ツール       | 内容                     |
| --------- | ---------------------- |
| Python    | 3.x系で動作確認済み            |
| pandas    | CSV処理、変換処理             |
| Streamlit | WebアプリUI               |
| GitHub    | バージョン管理（private → 公開中） |

---

## 🗂️ ディレクトリ構成

```
yuucho-to-freee/
├── app/
│   └── yuucho_to_freee_converter.py  ← 変換ロジック
├── streamlit_app.py                  ← UIエントリポイント
├── main.py                           ← CLI実行用（ローカル開発用）
├── sample_data/
│   ├── sample_yuucho.csv             ← サンプル入力CSV
│   └── sample_output_freee.csv       ← サンプル出力CSV
├── output/                           ← 実行後に生成されるファイル
├── requirements.txt                  ← 必要ライブラリ（pandas, streamlit）
├── .gitignore                        ← __pycache__ や output 除外済み
└── README.md                         ← 開発者向け作業ログ（このファイル）
```

---

## 🧠 実装メモ・エラー対応

| 問題                 | 解決策                    |
| ------------------ | ---------------------- |
| UnicodeDecodeError | `encoding="cp932"` を指定 |
| 列名がずれる             | `header=7` で開始行を指定     |
| CSV保存で文字化け         | `utf-8-sig` でエンコード     |

---

## ✅ Streamlit UIの仕様

| 機能         | 内容                      |
| ---------- | ----------------------- |
| ファイルアップロード | ゆうちょCSVをアップロード（cp932対応） |
| 自動変換       | pandasでfreee形式に変換       |
| ダウンロードボタン  | utf-8-sigで保存されたCSVを返す   |
| 明細プレビュー    | 上位5件の変換結果を表示            |

---

## 💡 収益化・拡張アイデア（今後検討）

| 区分     | 概要                              |
| ------ | ------------------------------- |
| フリーミアム | 月1件までは無料、以降は定額課金（例: 980円/月）     |
| 都度課金   | 明細変換1件ごとに課金（例: Stripe Checkout） |
| バンドル販売 | 自動仕訳＋freee変換＋初心者向け会計解説ガイド       |
| note連携 | 会計初心者向け記事からツールへ導線設計             |

---

## 🧭 再開時のチェックリスト

1. 仮想環境の有効化

```bash
venv\Scripts\activate
```

2. Streamlitで実行（ローカル確認）

```bash
streamlit run streamlit_app.py
```

3. ブラウザで `http://localhost:8501` にアクセス
   → ファイルアップ → 変換 → ダウンロードまで確認

---

## 🔁 セッション再開キーワード（このプロジェクトを再開したいとき）

```
yuucho-to-freee
Streamlit UI再開したい
freee形式 CSV 変換ツールの続き
ゆうちょ明細 変換プロジェクト
```

---

## ⚠️ 注意事項（商標関連）

- 本ツールは freee株式会社の公式サービスではありません
- freeeが公開している「手動アップロード用CSV形式」に準拠しているだけです
- 商標利用には配慮し、**「非公式」「参考」「対応形式」などの表記で統一**

---

## 📌 備考・補足

- `static/` は未使用 → 削除可
- `.gitignore` で `.pyc`, `output/`, `__pycache__/` など除外済み
- READMEは開発ログ・再開ガイド用途（ユーザー説明はアプリ側）

---

✅ このリポジトリは「freee形式に変換できず困っている人」を助けるための
**軽量・実用的なツール**としてスタートしました。
反応があれば順次アップグレード・有料化も検討していきます。
